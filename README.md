# DB hack | Скрипт для редактирования БД электронного дневника

Данный код написан в учебных целях. Он предоставляет возможность 
редактировать напрямую в БД следующие данные учеников:
1. Исправлять все плохие оценки (баллы ниже оценки *"4"*) на оценку *"5"*.
2. Удалять все жалобы преподавателей на ученика
3. Добавлять к случайной дате урока по указанному предмету похвалу от 
   учителя случайным образом выбранную из подготовленного списка.
   
При указании скрипту корректного имени ученика, он исправит все плохие 
оценки и удалит все замечания к ученику.
Если добавить указание предмета, то запишет в базу данных одну похвалу. 

Для работы скрипта потребуется заранее развёрнутый Django-проект с сайтом и 
загруженной базой данных электронного дневника. 
 
Описание моделей базы данных, с которыми работает данный код приведено в 
[документации электронного дневника](https://github.com/devmanorg/e-diary/tree/master#%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F)

## Что понадобится для работы скрипта

1. [Исходный код](https://github.com/aydar-gaysin/db-hack) электронного дневника школы
1. [Документация](https://github.com/devmanorg/e-diary/tree/master#%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BE%D0%BA%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F) к сайту электронного дневника
1. Архив с базой данных (например, [этот архив](https://dvmn.org/filer/canonical/1562234129/166/))
1. Выполнение инструкций из пункта "Как запустить скрипт" этого Readme файла.

## Подготовка к запуску скрипта

У вас должен быть установлен Python3.

1. Cкопируйте *scripts.py* в корень папки с файлами электронного дневника школы

1. Убедитесь, что в папке проекта электронного дневника школы находится файл 
   с базой данных

1. Убедитесь, что в проекте электронного дневника школы установлены все 
   необходимые зависимости
   
1. Запустите сервер командой ```python manage.py runserver```

1. Из командной строки запустите *scripts.py* с указанием необходимых 
   аргументов
   
## Как запустить скрипт

Для запуска скрипта необходимо указать аргументы:
1. Обязательные: ```Фамилия``` и ```Имя``` ученика.  
Без этих аргументов скрипт не запустится:
```python
python sripts.py Фролов Иван
```
2. Опциональные:
- Отчество  
может потребоваться, если в базе встречаются тёзки, у которых 
  совпадают фамилии и имена. 
  В этом случае с помощью ключа ```-p``` добавляется отчество:
```python
python sripts.py Фролов Иван -p Григорьевич
```

- Предмет  
название предмета указывается после добавления ключа ```-s``` для записи 
  ученику похвалы от преподавателя этого предмета:
```python
python sripts.py Фролов Иван -s Математика
```

## Цели проекта

Код написан в учебных целях — это урок в курсе по Python и веб-разработке 
на сайте [Devman](https://dvmn.org/referrals/HmkuFA0LXGDNGGqup2HnEZibxamNJcUwaRvhx5Zt/).